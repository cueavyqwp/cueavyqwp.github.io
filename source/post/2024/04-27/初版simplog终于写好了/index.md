# 起因

之前也搭建过博客网站,当时使用的是`hexo`+`fluid`主题

不过由于数据丢失就没了

之后想要重新弄,但是又嫌麻烦于是就想着要不自己做个博客框架~~(更麻烦了)~~

自己比较熟悉python,于是就决定使用python来开始制作

# 大致流程

所有的操作都通过命令行来进行

## 初始化

`python blog.py --init --theme [主题名](可选)`

这时候会在当前路径下创建一个`source`文件夹

这个文件夹将存放文章/设置/模板等等

目录结构类似这样:

- source (源文件)
- - config (用于存放配置文件)
- - template (用于存放模板)
- - asset (资源文件夹,构建时把这个文件夹里的文件原封不动复制到输出文件夹里)
- - post (文章)
- - - ...
- - - - index.md (在这个文件里编辑文章)
- - - - info.json (这篇文章的信息)
- - page (页面,和文章基本类似,可以自定义页面输出位置)
- - - ...
- - - - 文件名.md (这个名称可以自定义,只需要在`page.json`里改一下就行)
- - - - info.json (同上)
- - - - page.json (配置文件,用于指定页面最终要输出到哪里,以及使用的模板)

## 写文章

`python blog.py --post "[文章名]"`

这时候就会在`source/post/[年]/[月]-[日]/[文章名]`创建一个文件夹

接着直接编写即可

## 构建

`python blog.py --build`

这时候就会在配置文件中设置的输出文件夹(默认为`output`文件夹)下输出成静态网页

## 预览

你可以在本地开启一个http服务来进行查看

`python blog.py --server`

# 实现

## MD转HTML和代码高亮

Markdown转HTML使用python库`mistune`

使用它主要是可以简单的通过自定义渲染类配合上`pygments`实现静态代码高亮

## LaTeX显示和流程图显示

使用`MathJax`和`mermaid`实现

## 评论区

使用`giscus`

## 图标

使用`FortAwesome`

# 总结

其实大部分功能都是使用现成的库,也就写了个主题和一点点微不足道的代码

不过我想这也是有意义的

# 结尾

写这个博客框架还是挺开心的,虽然还没多少东西,但是还是会继续维护下去的~~(虽然可能也就我一个人维护)~~

总算是把新博客网站上的第一篇博客写完了

并不擅长写文章之类的,所以写的总是不怎么好

不过还是要试试的嘛,都没怎么写过的话,那肯定是没法写好的(￣▽￣)

总之,接下来就可以比较方便的写文章了,那就下篇博客再见了!
